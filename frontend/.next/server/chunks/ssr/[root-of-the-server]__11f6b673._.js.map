{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Mani/Desktop/frigate_facedetect/frontend/src/lib/api.ts"],"sourcesContent":["export type LogItem = {\r\n  id: string;\r\n  name: string;\r\n  policeStation: string;\r\n  matches: number;\r\n  confidence: number; // 0..1\r\n  images: string[];\r\n};\r\n\r\nconst MOCK_LOGS: LogItem[] = [\r\n  {\r\n    id: \"1\",\r\n    name: \"John Carter\",\r\n    policeStation: \"PS-12 Alpha\",\r\n    matches: 3,\r\n    confidence: 0.92,\r\n    images: [\"/next.svg\", \"/vercel.svg\", \"/globe.svg\"],\r\n  },\r\n  {\r\n    id: \"2\",\r\n    name: \"Sarah Connor\",\r\n    policeStation: \"PS-7 Beta\",\r\n    matches: 1,\r\n    confidence: 0.45,\r\n    images: [\"/window.svg\", \"/file.svg\"],\r\n  },\r\n  {\r\n    id: \"3\",\r\n    name: \"Neo Anderson\",\r\n    policeStation: \"PS-3 Zion\",\r\n    matches: 2,\r\n    confidence: 0.78,\r\n    images: [\"/vercel.svg\", \"/next.svg\"],\r\n  },\r\n];\r\n\r\nexport async function fetchLogs(threshold: number): Promise<LogItem[]> {\r\n  // Real API request to be enabled later:\r\n  // const res = await fetch(`http://localhost:8000/api/logs?threshold=${threshold}`, {\r\n  //   method: \"GET\",\r\n  //   headers: { \"Content-Type\": \"application/json\" },\r\n  //   // next: { revalidate: 0 }, // disable caching if needed\r\n  // });\r\n  // if (!res.ok) {\r\n  //   throw new Error(`Failed to fetch logs: ${res.status}`);\r\n  // }\r\n  // const data: LogItem[] = await res.json();\r\n  // return data;\r\n\r\n  // Mock fallback until backend is connected\r\n  await new Promise((r) => setTimeout(r, 200));\r\n  return MOCK_LOGS.filter((l) => l.confidence >= threshold);\r\n}\r\n\r\n\r\n"],"names":[],"mappings":";;;;AASA,MAAM,YAAuB;IAC3B;QACE,IAAI;QACJ,MAAM;QACN,eAAe;QACf,SAAS;QACT,YAAY;QACZ,QAAQ;YAAC;YAAa;YAAe;SAAa;IACpD;IACA;QACE,IAAI;QACJ,MAAM;QACN,eAAe;QACf,SAAS;QACT,YAAY;QACZ,QAAQ;YAAC;YAAe;SAAY;IACtC;IACA;QACE,IAAI;QACJ,MAAM;QACN,eAAe;QACf,SAAS;QACT,YAAY;QACZ,QAAQ;YAAC;YAAe;SAAY;IACtC;CACD;AAEM,eAAe,UAAU,SAAiB;IAC/C,wCAAwC;IACxC,qFAAqF;IACrF,mBAAmB;IACnB,qDAAqD;IACrD,6DAA6D;IAC7D,MAAM;IACN,iBAAiB;IACjB,4DAA4D;IAC5D,IAAI;IACJ,4CAA4C;IAC5C,eAAe;IAEf,2CAA2C;IAC3C,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;IACvC,OAAO,UAAU,MAAM,CAAC,CAAC,IAAM,EAAE,UAAU,IAAI;AACjD","debugId":null}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Mani/Desktop/frigate_facedetect/frontend/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { fetchLogs, type LogItem } from \"@/lib/api\";\n\nexport default function Home() {\n  const [threshold, setThreshold] = useState(0.6);\n  const [expandedId, setExpandedId] = useState<string | null>(null);\n  const [slideIndex, setSlideIndex] = useState<Record<string, number>>({});\n  const [logs, setLogs] = useState<LogItem[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    let active = true;\n    setLoading(true);\n    fetchLogs(threshold)\n      .then((data) => {\n        if (active) setLogs(data);\n      })\n      .finally(() => {\n        if (active) setLoading(false);\n      });\n    return () => {\n      active = false;\n    };\n  }, [threshold]);\n\n  const filteredLogs = useMemo(() => logs, [logs]);\n\n  const onNext = (id: string, total: number) => {\n    setSlideIndex((prev) => {\n      const current = prev[id] ?? 0;\n      return { ...prev, [id]: (current + 1) % total };\n    });\n  };\n\n  const onPrev = (id: string, total: number) => {\n    setSlideIndex((prev) => {\n      const current = prev[id] ?? 0;\n      return { ...prev, [id]: (current - 1 + total) % total };\n    });\n  };\n\n  return (\n    <div className=\"min-h-screen w-full px-4 sm:px-6 md:px-8 py-6 md:py-10\">\n      <div className=\"mx-auto max-w-6xl\">\n        <h1 className=\"text-2xl sm:text-3xl md:text-4xl font-bold tracking-widest text-center text-[#9ad7ff] drop-shadow-[0_0_10px_rgba(0,209,255,0.25)]\">\n          FRIGATE FACE LOGS\n        </h1>\n\n        <div className=\"mt-6 md:mt-8 glass neon-border rounded-xl p-4 md:p-5\">\n          <div className=\"flex items-center gap-4\">\n            <span className=\"text-sm text-[#9ad7ff]/80\">Threshold</span>\n            <input\n              type=\"range\"\n              min={0.2}\n              max={1}\n              step={0.1}\n              value={threshold}\n              onChange={(e) => setThreshold(parseFloat(parseFloat(e.target.value).toFixed(1)))}\n              className=\"w-full accent-[#00d1ff]\"\n            />\n            <span className=\"text-sm tabular-nums text-[#00d1ff] min-w-[2.5rem] text-right\">{threshold.toFixed(1)}</span>\n          </div>\n          <div className=\"mt-2 grid grid-cols-9 text-[10px] text-[#9ad7ff]/60\">\n            {Array.from({ length: 9 }, (_, i) => 0.2 + i * 0.1).map((v) => (\n              <span key={v.toFixed(1)} className=\"text-center\">{v.toFixed(1)}</span>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"mt-6 space-y-4\">\n          {loading && (\n            <div className=\"glass neon-border rounded-xl p-4 text-center text-[#9ad7ff]/80\">\n              Loading...\n            </div>\n          )}\n          {filteredLogs.map((log) => {\n            const isExpanded = expandedId === log.id;\n            const index = slideIndex[log.id] ?? 0;\n            const total = log.images.length;\n            return (\n              <div\n                key={log.id}\n                className=\"glass neon-border rounded-xl p-4 md:p-5 transition-shadow hover:shadow-[0_0_20px_rgba(0,209,255,0.2)]\"\n              >\n                <button\n                  onClick={() =>\n                    setExpandedId((prev) => (prev === log.id ? null : log.id))\n                  }\n                  className=\"w-full text-left\"\n                >\n                  <div className=\"flex items-center justify-between gap-3\">\n                    <div className=\"flex items-center gap-3 sm:gap-4 min-w-0\">\n                      <div className=\"h-9 w-9 sm:h-10 sm:w-10 rounded-full bg-gradient-to-br from-[#0ea5e9] to-[#00d1ff] flex items-center justify-center text-black font-bold flex-shrink-0\">\n                        {log.name.charAt(0)}\n                      </div>\n                      <div className=\"min-w-0\">\n                        <div className=\"font-semibold text-[#e6f3ff] truncate max-w-[60vw] sm:max-w-none\">\n                          {log.name}\n                        </div>\n                        <div className=\"text-xs text-[#9ad7ff]/70\">\n                          Station: {log.policeStation}\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"text-right flex-shrink-0\">\n                      <div className=\"text-sm text-[#9ad7ff]\">\n                        Matches: {log.matches}\n                      </div>\n                      <div className=\"text-xs text-[#00d1ff]\">\n                        Confidence: {(log.confidence * 100).toFixed(0)}%\n                      </div>\n                    </div>\n                  </div>\n                </button>\n\n                {isExpanded && (\n                  <div className=\"mt-4 border-t border-[#0b2d4a] pt-4\">\n                    <div className=\"relative overflow-hidden rounded-lg bg-black/40\">\n                      <div className=\"flex items-center justify-center h-48 sm:h-56 md:h-64 lg:h-72\">\n                        <Image\n                          src={log.images[index]}\n                          alt={`${log.name} ${index + 1}`}\n                          width={240}\n                          height={240}\n                          sizes=\"(max-width: 640px) 160px, (max-width: 768px) 200px, 240px\"\n                          className=\"object-contain max-h-full\"\n                        />\n                      </div>\n                      <div className=\"absolute inset-0 flex items-center justify-between px-1 sm:px-2\">\n                        <button\n                          onClick={() => onPrev(log.id, total)}\n                          className=\"h-9 w-9 sm:h-10 sm:w-10 rounded-full bg-[#0b132b]/70 hover:bg-[#0b132b]/90 text-[#9ad7ff] grid place-items-center\"\n                          aria-label=\"Previous image\"\n                        >\n                          ‹\n                        </button>\n                        <button\n                          onClick={() => onNext(log.id, total)}\n                          className=\"h-9 w-9 sm:h-10 sm:w-10 rounded-full bg-[#0b132b]/70 hover:bg-[#0b132b]/90 text-[#9ad7ff] grid place-items-center\"\n                          aria-label=\"Next image\"\n                        >\n                          ›\n                        </button>\n                      </div>\n                      <div className=\"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1.5 sm:gap-2\">\n                        {log.images.map((_, i) => (\n                          <span\n                            key={i}\n                            className={`h-1.5 w-5 sm:w-6 rounded-full ${\n                              i === index ? \"bg-[#00d1ff]\" : \"bg-[#16324a]\"\n                            }`}\n                          />\n                        ))}\n                      </div>\n                    </div>\n\n                    <div className=\"mt-4 flex justify-end\">\n                      <button\n                        onClick={() => setExpandedId(null)}\n                        className=\"px-3 sm:px-4 py-2 rounded-lg bg-gradient-to-r from-[#0ea5e9] to-[#00d1ff] text-black font-semibold tracking-wide hover:opacity-90\"\n                      >\n                        Collapse\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n            );\n          })}\n\n          {filteredLogs.length === 0 && (\n            <div className=\"glass neon-border rounded-xl p-5 md:p-6 text-center text-[#9ad7ff]/80\">\n              No logs at this threshold.\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAgB;IAC5D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAyB,CAAC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAY,EAAE;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,IAAI,SAAS;QACb,WAAW;QACX,IAAA,8HAAS,EAAC,WACP,IAAI,CAAC,CAAC;YACL,IAAI,QAAQ,QAAQ;QACtB,GACC,OAAO,CAAC;YACP,IAAI,QAAQ,WAAW;QACzB;QACF,OAAO;YACL,SAAS;QACX;IACF,GAAG;QAAC;KAAU;IAEd,MAAM,eAAe,IAAA,gNAAO,EAAC,IAAM,MAAM;QAAC;KAAK;IAE/C,MAAM,SAAS,CAAC,IAAY;QAC1B,cAAc,CAAC;YACb,MAAM,UAAU,IAAI,CAAC,GAAG,IAAI;YAC5B,OAAO;gBAAE,GAAG,IAAI;gBAAE,CAAC,GAAG,EAAE,CAAC,UAAU,CAAC,IAAI;YAAM;QAChD;IACF;IAEA,MAAM,SAAS,CAAC,IAAY;QAC1B,cAAc,CAAC;YACb,MAAM,UAAU,IAAI,CAAC,GAAG,IAAI;YAC5B,OAAO;gBAAE,GAAG,IAAI;gBAAE,CAAC,GAAG,EAAE,CAAC,UAAU,IAAI,KAAK,IAAI;YAAM;QACxD;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAoI;;;;;;8BAIlJ,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAK,WAAU;8CAA4B;;;;;;8CAC5C,8OAAC;oCACC,MAAK;oCACL,KAAK;oCACL,KAAK;oCACL,MAAM;oCACN,OAAO;oCACP,UAAU,CAAC,IAAM,aAAa,WAAW,WAAW,EAAE,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC;oCAC5E,WAAU;;;;;;8CAEZ,8OAAC;oCAAK,WAAU;8CAAiE,UAAU,OAAO,CAAC;;;;;;;;;;;;sCAErG,8OAAC;4BAAI,WAAU;sCACZ,MAAM,IAAI,CAAC;gCAAE,QAAQ;4BAAE,GAAG,CAAC,GAAG,IAAM,MAAM,IAAI,KAAK,GAAG,CAAC,CAAC,kBACvD,8OAAC;oCAAwB,WAAU;8CAAe,EAAE,OAAO,CAAC;mCAAjD,EAAE,OAAO,CAAC;;;;;;;;;;;;;;;;8BAK3B,8OAAC;oBAAI,WAAU;;wBACZ,yBACC,8OAAC;4BAAI,WAAU;sCAAiE;;;;;;wBAIjF,aAAa,GAAG,CAAC,CAAC;4BACjB,MAAM,aAAa,eAAe,IAAI,EAAE;4BACxC,MAAM,QAAQ,UAAU,CAAC,IAAI,EAAE,CAAC,IAAI;4BACpC,MAAM,QAAQ,IAAI,MAAM,CAAC,MAAM;4BAC/B,qBACE,8OAAC;gCAEC,WAAU;;kDAEV,8OAAC;wCACC,SAAS,IACP,cAAc,CAAC,OAAU,SAAS,IAAI,EAAE,GAAG,OAAO,IAAI,EAAE;wCAE1D,WAAU;kDAEV,cAAA,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAI,WAAU;sEACZ,IAAI,IAAI,CAAC,MAAM,CAAC;;;;;;sEAEnB,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAI,WAAU;8EACZ,IAAI,IAAI;;;;;;8EAEX,8OAAC;oEAAI,WAAU;;wEAA4B;wEAC/B,IAAI,aAAa;;;;;;;;;;;;;;;;;;;8DAIjC,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAI,WAAU;;gEAAyB;gEAC5B,IAAI,OAAO;;;;;;;sEAEvB,8OAAC;4DAAI,WAAU;;gEAAyB;gEACzB,CAAC,IAAI,UAAU,GAAG,GAAG,EAAE,OAAO,CAAC;gEAAG;;;;;;;;;;;;;;;;;;;;;;;;oCAMtD,4BACC,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;kEACb,cAAA,8OAAC,wIAAK;4DACJ,KAAK,IAAI,MAAM,CAAC,MAAM;4DACtB,KAAK,GAAG,IAAI,IAAI,CAAC,CAAC,EAAE,QAAQ,GAAG;4DAC/B,OAAO;4DACP,QAAQ;4DACR,OAAM;4DACN,WAAU;;;;;;;;;;;kEAGd,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEACC,SAAS,IAAM,OAAO,IAAI,EAAE,EAAE;gEAC9B,WAAU;gEACV,cAAW;0EACZ;;;;;;0EAGD,8OAAC;gEACC,SAAS,IAAM,OAAO,IAAI,EAAE,EAAE;gEAC9B,WAAU;gEACV,cAAW;0EACZ;;;;;;;;;;;;kEAIH,8OAAC;wDAAI,WAAU;kEACZ,IAAI,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,kBAClB,8OAAC;gEAEC,WAAW,CAAC,8BAA8B,EACxC,MAAM,QAAQ,iBAAiB,gBAC/B;+DAHG;;;;;;;;;;;;;;;;0DASb,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC;oDACC,SAAS,IAAM,cAAc;oDAC7B,WAAU;8DACX;;;;;;;;;;;;;;;;;;+BA/EF,IAAI,EAAE;;;;;wBAuFjB;wBAEC,aAAa,MAAM,KAAK,mBACvB,8OAAC;4BAAI,WAAU;sCAAwE;;;;;;;;;;;;;;;;;;;;;;;AAQnG","debugId":null}}]
}